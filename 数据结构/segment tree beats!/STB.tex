给一个数组，m次操作:

1:l r x，将a[i](l<=i<=r)=min(a[i],x)

2:l r，求区间最大值。

3:l r，求区间和。

维护一个最大值mx和次大值se，分类讨论：

当mx<=x显然没有影响。

当se<x<mx打标记修改区间。

否则暴力递归两个儿子。